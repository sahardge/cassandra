[Unit]
Description=Cassandra Node
After=etcd.service
After=docker.service
Requires=CassandraSeed.service


[Service]
TimeoutStartSec=0
ExecStartPre= /usr/bin/docker pull sahardge/cassandra
ExecStartPre= /usr/bin/docker rm -f '$(/usr/bin/docker ps -aq)'
ExecStart= /usr/bin/docker run -d --name %p-%i sahardge/cassandra start-node.sh
ExecStop= /usr/bin/docker stop -t %p-%i

